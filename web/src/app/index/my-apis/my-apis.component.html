<!-- Page Header-->
<header class="page-header">
  <div class="container-fluid">
    <h2 class="no-margin-bottom">Market Place</h2>
  </div>
</header>

<!-- Client Section-->
<section class="client">
  <div class="container-fluid">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header d-flex align-items-center">
          <h3 class="h4">Striped table with hover effect</h3>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Name</th>
                  <th># of calls made</th>
                  <th>balance left over</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let api of myapis; let i=index">
                  <th scope="row">{{i + 1}}</th>
                  <td>{{api.name}}</td>
                  <td>{{api.amount}}</td>
                  <td>{{api.balance}}</td>
                  <td>
                    <button class="btn btn-secondary" (click)="selected = api" data-toggle="modal" data-target="#apiKeyModal">Show API key</button>
                  </td>
                  <td>
                      <button class="btn btn-primary" (click)="selected = api" data-toggle="modal" data-target="#apiModal">Unsubscribe</button>
                    </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- ************************** unsubscribe modal ************************* -->
  <div id="apiModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" class="modal fade text-left" style="display: none;"
    aria-hidden="true">
    <div role="document" class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 id="exampleModalLabel" class="modal-title">Confirm unsubscription from {{selected.name}}</h4>
          <button type="button" data-dismiss="modal" aria-label="Close" class="close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-6 text-center">
              <button type="button" data-dismiss="modal" class="btn btn-danger" (click)="unsubscribe()">confirm</button>
            </div>
            <div class="col-lg-6 text-center">
              <button type="button" data-dismiss="modal" class="btn btn-primary">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- ************************** api key modal ************************* -->
  <div id="apiKeyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" class="modal fade text-left" style="display: none;"
    aria-hidden="true">
    <div role="document" class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 id="exampleModalLabel" class="modal-title">Confirm unsubscription from {{selected.name}}</h4>
          <button type="button" data-dismiss="modal" aria-label="Close" class="close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="container-fluid" >
            <pre><code>0x8459c3e073027c87ffe2ec36a75c056bd53dd5a094c54c0ea54dfad1dfb4e4917c2403364679d985abaddf3713d32f29a9fb5ec2425d00450ebad223d70ac3fe1b</code></pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>